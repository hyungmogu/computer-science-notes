\documentclass[12pt]{article}
\usepackage[margin=2.5cm]{geometry}
\usepackage{enumerate}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{fancyhdr}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{listings}
\usepackage{mdframed}
\usepackage{graphicx}

\begin{document}
\title{Midterm 2 Version 3 Solution}
\author{Hyungmo Gu}
\maketitle

\section*{Question 1}
\begin{enumerate}[a.]
    \item

    \begin{align*}
        165 \div 2 = 82,\:&\text{remainders}\:\textbf{1}\\
        82 \div 2 = 41,\:&\text{remainders}\:\textbf{0}\\
        41 \div 2 = 20,\:&\text{remainders}\:\textbf{1}\\
        20 \div 2 = 10,\:&\text{remainders}\:\textbf{0}\\
        10 \div 2 = 5,\:&\text{remainders}\:\textbf{0}\\
        5 \div 2 = 2,\:&\text{remainders}\:\textbf{1}\\
        2 \div 2 = 1,\:&\text{remainders}\:\textbf{0}\\
        1 \div 2 = 0,\:&\text{remainders}\:\textbf{1}
    \end{align*}

    \bigskip

    From the above, we can conclude the binary representation of the decimal
    number 165 is $(10100101)_2$

    \item

    The largest number that can be expressed by an $n$-digit balanced ternary
    representation is

    \begin{align}
        \sum\limits_{i=0}^{n-1} 3^i &= \frac{1}{2} \cdot (3^n - 1)
    \end{align}

    \bigskip

    \textbf{Notes:}

    \begin{itemize}
        \item Geometric Series

        \setcounter{equation}{0}
        \begin{align*}
            \sum\limits_{i=0}^n r^i = \frac{1-r^{n+1}}{1-r},\:\text{where}\:\lvert r \rvert > 1
        \end{align*}
    \end{itemize}

    \item

    \begin{tabular}{|l|c|l|c|l|c|}
        \hline
        $f(n) \in \mathcal{O}(n)$ & True & $g(n) \in \Omega(n)$ & True & $f(n) \in \Omega(g(n))$ & True\\
        \hline
        $f(n) \in \Theta(g(n))$ & False & $g(n) \in \Theta(n)$ & False & $f(n) + g(n) \in \Theta(g(n))$ & False\\
        \hline
    \end{tabular}

    \begin{mdframed}
        \underline{\textbf{Correct Solution:}}

        \bigskip

        \begin{tabular}{|l|c|l|c|l|c|}
            \hline
            $f(n) \in \mathcal{O}(n)$ & True & $g(n) \in \Omega(n)$ & True & $f(n) \in \Omega(g(n))$ & True\\
            \hline
            $f(n) \in \Theta(g(n))$ & False & $g(n) \in \Theta(n)$ & False & $f(n) + g(n) \in \Theta(g(n))$ & \color{red}True\color{black}\\
            \hline
        \end{tabular}

    \end{mdframed}

    \bigskip

    \textbf{Notes:}

    \begin{itemize}
        \item Note that for $f(n) + g(n) \in \Theta(g(n))$, large values of $n$
        causes $g(n) = n^{\log_2 n}$ to dominate $f(n) = \frac{3n}{\log_2 n + 8}$.
        This causes the inequality to be simplified to

        \setcounter{equation}{0}
        \begin{align}
            c_1 \cdot n^{\log_2 n} \leq n^{\log_2 n} \leq c_2 \cdot n^{\log_2 n}
        \end{align}

        \bigskip

        It follows from above the answer is True.
    \end{itemize}

    \item

    \begin{tabular}{|c|c|c|c|}
        \hline
        $k$ & 0 & 1 & 2 \\
        \hline
        $i * i$ & $3 = 3^{2^0}$ & $9 = 3^{2^1}$ & $81 = 3^{2^4}$\\
        \hline
    \end{tabular}

    From the rough work, we can deduce the value of $i$ after $k$ iterations
    is

    \setcounter{equation}{0}
    \begin{align}
        3^{2^k}
    \end{align}

    \item

    Loop termination occurs when $i_k \geq n^3$.

    \bigskip

    We need to find the smallest value of $k$, and the value is

    \setcounter{equation}{0}
    \begin{align}
        \lceil \log_2 3\log_3 n \rceil
    \end{align}

\end{enumerate}

\section*{Question 2}
\begin{itemize}
    \item
    \textbf{Statement:} $\forall n \in \mathbb{N},\:n \geq 1 \Rightarrow
    \sum\limits_{i=1}^{n} \frac{1}{\sqrt{i}} > \sqrt{n} - 1$

    \bigskip

    \begin{proof}

        Let $n \in \mathbb{N}$. Assume $n \geq 1$.

        \bigskip

        We will prove the statement using induction on $n$.

        \bigskip

        \textbf{Base Case ($n = 1$):}

        \bigskip

        Let $n = 1$.

        \bigskip

        We want to show $\sum\limits_{i=1}^1 \frac{1}{\sqrt{i}} > \sqrt{1} - 1$

        \bigskip

        Starting from the left hand side of the inequality, we can calculate

        \setcounter{equation}{0}
        \begin{align}
            \sum\limits_{i=1}^1 \frac{1}{\sqrt{i}} &= \frac{1}{\sqrt{1}}\\
            &= 1\\
            &> 0\\
            &= \sqrt{1} - 1
        \end{align}

        \bigskip

        \textbf{Inductive Case:}

        \bigskip

        Let $n \in \mathbb{N}$. Assume $\sum\limits_{i=1}^{n} \frac{1}{\sqrt{i}} > \sqrt{n} - 1$.

        \bigskip

        We want to show $\sum\limits_{i=1}^{n+1} \frac{1}{\sqrt{i}} > \sqrt{n+1} - 1$.

        \bigskip

        Starting from the left hand side of the inequality, we can conclude

        \begin{align}
            \sum\limits_{i=1}^{n+1} \frac{1}{\sqrt{i}} &= \sum\limits_{i=1}^n \frac{1}{\sqrt{i}} + \frac{1}{\sqrt{n+1}}
        \end{align}

        \bigskip

        Then, it follows from induction hypothesis (i.e. $\sum\limits_{i=1}^{n} \frac{1}{\sqrt{i}} > \sqrt{n} - 1$) that

        \begin{align}
            \sum\limits_{i=1}^{n+1} \frac{1}{\sqrt{i}} &>  \sqrt{n+1} - 1 + \frac{1}{\sqrt{n+1}}
        \end{align}

        \bigskip

        The hint tells us the following

        \begin{align}
            \forall n \in \mathbb{Z}^{+},\:\sqrt{n+1} - \sqrt{n} = \frac{1}{\sqrt{n+1} + \sqrt{n}},\:\text{and}\:\frac{1}{\sqrt{n+1} + \sqrt{n}} < \frac{1}{\sqrt{n+1}}
        \end{align}

        \bigskip

        Using the hint, we can calculate

        \begin{align}
            \sum\limits_{i=1}^{n+1} \frac{1}{\sqrt{i}} &> (\sqrt{n}-1) + \frac{1}{\sqrt{n+1} + \sqrt{n}}\\
            &= (\sqrt(n) - 1) + (\sqrt{n+1} - \sqrt{n})\\
            &= \sqrt{n+1} - 1
        \end{align}
    \end{proof}

\end{itemize}

\section*{Question 3}
\begin{itemize}
    \item

    \textbf{Statement:} $\forall a \in \mathbb{R}^{+}$, $a > 1 \Rightarrow a^n + 3 \in \Theta(2^n)$

    \bigskip

    \textbf{Negation Statement:} $\exists a \in \mathbb{R}^{+}$, $(a > 1) \land $
    $\Bigl[ \forall c_1,c_2,n_0 \in \mathbb{R}^{+},\:\exists n \in \mathbb{N},\:
    (n \geq n_0) \land \bigl( (c_1 \cdot (a^n+3) > 2^n) \lor (2^n > c_2 \cdot (a^n+3)) \bigr) \Bigr]$

    \bigskip

    \begin{proof}

        Let $a = \frac{3}{2}$. Let $c_1,c_2,n_0 \in \mathbb{R}^{+}$, and $n = \left\lceil max(n_0, \frac{\log(2c_1)}{\log \frac{4}{3}}, \frac{\log(6c_1)}{2}) \right\rceil + 1$.

        \bigskip

        We need to show $a > 1$, $n > n_0$ and $a^n + 3 < \frac{1}{c_1} \cdot 2^n$.

        \bigskip

        We will do so in parts.

        \bigskip

        \textbf{Part 1 (showing $a > 1$):}

        \bigskip

        We need to show $a > 1$.

        \bigskip

        Because we know $a = \frac{3}{2}$ from header, we can conclude

        \setcounter{equation}{0}
        \begin{align}
            a > 1
        \end{align}

        \bigskip

        \textbf{Part 2 (showing $n > n_0$):}

        \bigskip

        We need to show $n \geq n_0$.

        \bigskip

        Using the fact $\left\lceil max(n_0, \frac{\log(2c_1)}{\log \frac{4}{3}},
        \frac{\log(6c_1)}{2}) \right\rceil \geq n_0$, we can conclude

        \begin{align}
            n = \left\lceil max(n_0, \frac{\log(2c_1)}{\log \frac{4}{3}}, \frac{\log(6c_1)}{2}) \right\rceil + 1 > n_0
        \end{align}

        \bigskip

        \textbf{Part 3 (Showing $a^n + 3 < \frac{1}{c_1} \cdot 2^n$):}

        \bigskip

        We need to show $a^n + 3 < \frac{1}{c_1} \cdot 2^n$.

        \bigskip

        We will do so by showing $a^n < \frac{2^n}{2c_1}$, $3 < \frac{2^n}{2c_1}$,
        and then combining the two.

        \bigskip

        For the inequality $a^n < \frac{2^n}{2c_1}$, using the following fact

        \begin{align}
            \frac{\log(2c_1)}{\log \frac{4}{3}} < \left\lceil max(n_0, \frac{\log(2c_1)}{\log \frac{4}{3}}, \frac{\log(6c_1)}{2}) \right\rceil + 1 = n
        \end{align}

        we can calculate

        \begin{align}
            \log(2c_1) &< n\log \frac{4}{3}\\
            2c_1 &< \left(\frac{4}{3}\right)^n\\
            2c_1 &< \frac{2^n}{\left(\frac{3}{2}\right)^n}\\
            \left(\frac{3}{2}\right)^n &< \frac{2^n}{2c_1}\\
        \end{align}

        Then, since $a = \frac{3}{2}$, we can conclude

        \begin{align}
            a^n &< \frac{2^n}{2c_1}
        \end{align}

        \bigskip

        For the inequality $3 < \frac{2^n}{2c_1}$, using the following fact

        \begin{align}
            \frac{\log(6c_1)}{2} < \left\lceil max(n_0, \frac{\log(2c_1)}{\log \frac{4}{3}}, \frac{\log(6c_1)}{2}) \right\rceil + 1 = n
        \end{align}

        we can conclude

        \begin{align}
            6c_1 &< 2^n\\
            3 &< \frac{2^n}{2c_1}
        \end{align}

        \bigskip

        Finally, by combining the two, we can conclude

        \begin{align}
            a^n + 3 &< \frac{2^n}{2c_1} + \frac{2^n}{2c_1}\\
            a^n + 3 &< \frac{2^n}{c_1}
        \end{align}
    \end{proof}

 \end{itemize}

\section*{Question 4}
\begin{enumerate}[a.]
    \item

    \begin{proof}
        Let $n \in \mathbb{N}$.

        \bigskip

        First, we need to analyze the number of iterations of loop 2 per iteration of
        loop 1

        \bigskip

        The code tells us loop 2 starts at $j = 0$, ends at $j = i-1$, and $j$ increases
        by 2 per iteration.

        \bigskip

        Using the fact, we can conclude that the number of iterations of loop 2 is
        \setcounter{equation}{0}
        \begin{align}
            \left\lceil \frac{i-1-0+1}{2} \right\rceil = \left\lceil \frac{i}{2} \right\rceil
        \end{align}

        or

        \begin{align}
            \frac{i}{2}
        \end{align}

        since we are ignoring floor and ceiling symbols.

        \bigskip

        Next, we need to add this number over all iterations of loop 1.

        \bigskip

        The code tell us us it starts at $i = 0$ and ends at $i = \sqrt{n-1}$ with $i$
        increasing by 1 per iteration.

        \bigskip

        Using this fact, the total number of iterations of loop 2 is

        \begin{align}
            \frac{0}{2} + \frac{1}{2} + \cdots + \frac{\sqrt{n-1}}{2} &= \sum\limits_{i=0}^{\sqrt{n-1}} \frac{i}{2}\\
            &= \frac{1}{2} \cdot \sum\limits_{i=0}^{\sqrt{n-1}} i
        \end{align}

        \bigskip

        Then, it follows from the fact $\sum\limits_{i=0}^n i = \frac{n(n+1)}{2}$ that,

        \begin{align}
            \frac{1}{2} \cdot \sum\limits_{i=0}^{\sqrt{n-1}} i &= \frac{1}{2} \cdot \frac{(\sqrt{n-1})(\sqrt{n-1} + 1)}{2}\\
            &= \frac{(\sqrt{n-1})(\sqrt{n-1} + 1)}{4}
        \end{align}

    \end{proof}

    \bigskip

    \begin{mdframed}
        \underline{\textbf{Correct Solution:}}

        \bigskip

        Let $n \in \mathbb{N}$.

        \bigskip

        First, we need to analyze the number of iterations of loop 2 per iteration of
        loop 1

        \bigskip

        The code tells us loop 2 starts at $j = 0$, ends at $j = i-1$, and $j$ increases
        by 2 per iteration.

        \bigskip

        Using the fact, we can conclude that the number of iterations of loop 2 is
        \setcounter{equation}{0}
        \begin{align}
            \left\lceil \frac{i-1-0+1}{2} \right\rceil = \left\lceil \frac{i}{2} \right\rceil
        \end{align}

        or

        \begin{align}
            \frac{i}{2}
        \end{align}

        since we are ignoring floor and ceiling symbols.

        \bigskip

        Next, we need to add this number over all iterations of loop 1.

        \bigskip

        The code tell us us it starts at $i = 0$ with \color{red}$i$ increasing by 1 per iteration
        until the terminating condition of $i^2 \geq n$.

        \bigskip

        And from the inequality, we know the loop finishes at $i = \sqrt{n} - 1$.
        \color{black}

        \bigskip

        Using \color{red}these facts\color{black}, the total number of iterations of loop 2 is

        \color{red}
        \begin{align}
            \frac{0}{2} + \frac{1}{2} + \cdots + \frac{\sqrt{n} - 1}{2} &= \sum\limits_{i=0}^{\sqrt{n} - 1} \frac{i}{2}\\
            &= \frac{1}{2} \cdot \sum\limits_{i=0}^{\sqrt{n} - 1} i
        \end{align}

        \bigskip

        Then, it follows from the fact $\sum\limits_{i=0}^n i = \frac{n(n+1)}{2}$ that,

        \begin{align}
            \frac{1}{2} \cdot \sum\limits_{i=0}^{\sqrt{n}-1} i &= \frac{1}{2} \cdot \frac{(\sqrt{n}-1)(\sqrt{n}-1+1)}{2}\\
            &= \frac{(\sqrt{n}-1)\sqrt{n}}{4}
        \end{align}
        \color{black}

    \end{mdframed}

    \bigskip

    \textbf{Notes:}

    \begin{itemize}
        \item How can I construct a proof in a situation where the slight change in a problem
        causes the flow of proof to deviate from the main?

        \bigskip

        One example of how I mean by above is the following

        \begin{mdframed}
            The code tell us us it starts at $i = 0$ with \color{red}$i$ increasing by 1 per iteration
            until the terminating condition of $i^2 \geq n$.

            \bigskip

            And from the inequality, we know the loop finishes at $i = \sqrt{n} - 1$.
            \color{black}
        \end{mdframed}

        \item I get the same feeling when solving question 4.b
    \end{itemize}

    \item

    \begin{proof}
        \underline{\textbf{Part 1 (Determining the upper bound worst case running time):}}

        \bigskip

        Let $n \in \mathbb{N}$.

        \bigskip

        First, we need to analyze the number of iterations in loop 2 per iteration in
        loop 1.

        \bigskip

        The code tells us loop 2 starts at $j = 0$ and ends at $j = n -1$ with $j$
        increasing by 1 per iteration.

        \bigskip

        Using these facts, the number of iterations in loop 2 is

        \setcounter{equation}{0}
        \begin{align}
            \lceil n - 1 - (i+1) - 1 \rceil = n - i - 1
        \end{align}

        \bigskip

        Next, we need to add this number over all iterations in loop 1 to calculate
        the total number of loop 2.

        \bigskip

        Because we know the if condition \textbf{if lst[i] > 1} will be satisfied at most
        $n$ times, from $i = 0$ to $i = n - 1$ with $i$ increasing by 1 per iteration,
        we can conclude the total number of iterations of loop 2 is at most

        \begin{align}
            (n-0-1) + (n-1-1) + \cdots + (n - (n-1) - 1) &= \sum\limits_{i=0}^{n-1} i\\
            &= \frac{n(n-1)}{2}
        \end{align}

        \bigskip

        Then, we can conclude the upper bound worst case running time is $\mathcal{O}(n^2)$.

        \bigskip

        \underline{\textbf{Part 2 (Determining the lower bound worst case running time):}}
    \end{proof}

\end{enumerate}

\end{document}