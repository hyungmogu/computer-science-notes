\documentclass[12pt]{article}
\usepackage{enumerate}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{fancyhdr}
\usepackage{amssymb}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{mdframed}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2
}

\lstset{style=mystyle}

\begin{document}
\title{Worksheet 14 Review}
\maketitle

\section*{Question 1}
\begin{enumerate}[a.]
    \item

    Since the inner loop starts at $j = 0$ and finishes at $j = n-1$ with $j$
    increasing by 1 per iteration, we can conclude that the inner loop has

    \begin{align}
        \lceil n - 1 - 0 + 1 \rceil &= n
    \end{align}

    iterations.

    \bigskip

    Since the inner loop takes 1 step per iteration, we can conclude that the
    inner loop has the total cost of

    \begin{align}
        n \cdot 1 &= n
    \end{align}

    steps.

    \bigskip

    For the outer loop, because it starts at $i = 0$ and ends at $i = n-1$ with $i$
    increasing by 5 per iteration, we can conclude that the outer loop has

    \begin{align}
        \left\lceil \frac{n-1-0+1}{5} \right\rceil = \left\lceil \frac{n}{5} \right\rceil
    \end{align}

    iterations.

    \bigskip

    Since each iteration in the outer loop takes $n$ steps, we can conclude the
    outer loop has the total cost of

    \begin{align}
        n \cdot n &= n^2
    \end{align}

    steps.

    \bigskip

    Since we are ignoring the cost of the loop variables, the total cost of the
    algorithm is $n^2 + n$ steps.

    \bigskip

    Then, because we know the algorithm takes total of $n^2 + n$ steps,
    we can conclude the algorithm has the runtime of $\Theta(n^2)$.

    \item

    We will determine the exact cost and theta of this algorithm by first
    calculating the exact cost of inner loop 1

    \begin{lstlisting}[language=Python]
    j = 1
    while j < n:
        j = j * 3
    \end{lstlisting}

    and then, calculating the exact cost of inner loop 2

    \begin{lstlisting}[language=Python]
    k = 0
    while k < n:
        k = k + 2
    \end{lstlisting}

    and then, calculating the exact cost of the outer loop using the information
    from the exact cost of inner loop 1 and inner loop 2

    \begin{lstlisting}[language=Python]
    i = 4
    while i < n:
        j = 1
        while j < n:
            j = j * 3
        k = 0
        while k < n:
            k = k + 2
        i = i + 1
    \end{lstlisting}

    and then, we will finish off by calculating the theta of the outer loop.

    \bigskip

    \textbf{Part 1 (Calculating the exact cost of loop 1):}

    \bigskip

    Because we kow $j = j \cdot 3$, we can calculate

    \begin{align*}
        i_1 &= 3\\
        i_2 &= 9\\
        i_3 &= 27\\
        &\vdots\\
        i_j &= 3^j
    \end{align*}

    \bigskip

    Then, using the fact that loop termination occurs when $i_j \geq n$, we can
    conclude

    \setcounter{equation}{0}
    \begin{align}
        3^j &\geq n\\
        j &\geq \log_3 n
    \end{align}

    \bigskip

    Since we are looking for the smallest value of $j$ resulting in loop termination,
    we can conclude the value of $j$ is $\lceil \log_3 n \rceil$.

    \bigskip

    Since the inner loop 1 takes constant step per iteration, we can conclude that
    the loop has exact cost of

    \begin{align}
        \lceil \log_3 n \rceil \cdot 1 &= \lceil \log_3 n \rceil
    \end{align}

    steps.

    \bigskip

    \textbf{Part 2 (Calculating the exact cost of loop 2):}

    \bigskip

    Since the loop starts from $k = 0$ and ends at $k = n - 1$, with $k$ increasing
    by 2 per iteration, we can conclude that the loop has

    \begin{align}
        \left\lceil \frac{n - 1 -0 + 1}{2} \right\rceil = \left\lceil \frac{n}{2} \right\rceil
    \end{align}

    iterations.

    \bigskip

    Since the loop takes 1 step per iteration, the loop has total cost of

    \begin{align}
        \left\lceil \frac{n}{2} \right\rceil \cdot 1 = \left\lceil \frac{n}{2} \right\rceil
    \end{align}

    steps.

    \bigskip

    \textbf{Part 3 (Calculating the exact cost of outer loop):}

    \bigskip

    Since the loop runs from $i = 4$ to $i = n - 1$ with $i$ increasing by 1 per
    iteration, we can conclude the loop has

    \begin{align}
        \left\lceil \frac{n-1-4+1}{1} \right\rceil &= n - 4
    \end{align}

    iterations.

    \bigskip

    Since each iteration takes $\lceil \log_3 n \rceil + \left\lceil \frac{n}{2} \right\rceil$
    steps, we can conclude the outer loop has total of

    \begin{align}
        (n-4) \cdot \left( \lceil \log_3 n \rceil + \left\lceil \frac{n}{2} \right\rceil \right)
    \end{align}

    steps.

    \bigskip

    \textbf{Part 4 (Calculating Theta):}

    \bigskip

    Because we know the loop in total has exact cost of $(n-4) \cdot \left( \lceil \log_3 n
    \rceil + \left\lceil \frac{n}{2} \right\rceil \right)$, we can conclude that
    the algorithm has total runtime of $\Theta(n^2)$.

    \bigskip

    \begin{mdframed}
        \underline{\textbf{Correct Solution:}}

        \bigskip

        We will determine the exact cost and theta of this algorithm by first
        calculating the exact cost of inner loop 1

        \begin{lstlisting}[language=Python]
        j = 1
        while j < n:
            j = j * 3
        \end{lstlisting}

        and then, calculating the exact cost of inner loop 2

        \begin{lstlisting}[language=Python]
        k = 0
        while k < n:
            k = k + 2
        \end{lstlisting}

        and then, calculating the exact cost of the outer loop using the information
        from the exact cost of inner loop 1 and inner loop 2

        \begin{lstlisting}[language=Python]
        i = 4
        while i < n:
            j = 1
            while j < n:
                j = j * 3
            k = 0
            while k < n:
                k = k + 2
            i = i + 1
        \end{lstlisting}

        and then, we will finish off by calculating the theta of the outer loop.

        \bigskip

        \textbf{Part 1 (Calculating the exact cost of loop 1):}

        \bigskip

        Because we kow $j = j \cdot 3$, we can calculate

        \begin{align*}
            i_1 &= 3\\
            i_2 &= 9\\
            i_3 &= 27\\
            &\vdots\\
            i_j &= 3^j
        \end{align*}

        \bigskip

        Then, using the fact that loop termination occurs when $i_j \geq n$, we can
        conclude

        \setcounter{equation}{0}
        \begin{align}
            3^j &\geq n\\
            j &\geq \log_3 n
        \end{align}

        \bigskip

        Since we are looking for the smallest value of $j$ resulting in loop termination,
        we can conclude the value of $j$ is $\lceil \log_3 n \rceil$.

        \bigskip

        Since the inner loop 1 takes constant step per iteration, we can conclude that
        the loop has exact cost of

        \begin{align}
            \lceil \log_3 n \rceil \cdot 1 &= \lceil \log_3 n \rceil
        \end{align}

        steps.

        \bigskip

        \textbf{Part 2 (Calculating the exact cost of loop 2):}

        \bigskip

        Since the loop starts from $k = 0$ and ends at $k = n - 1$, with $k$ increasing
        by 2 per iteration, we can conclude that the loop has

        \begin{align}
            \left\lceil \frac{n - 1 -0 + 1}{2} \right\rceil = \left\lceil \frac{n}{2} \right\rceil
        \end{align}

        iterations.

        \bigskip

        Since the loop takes 1 step per iteration, the loop has total cost of

        \begin{align}
            \left\lceil \frac{n}{2} \right\rceil \cdot 1 = \left\lceil \frac{n}{2} \right\rceil
        \end{align}

        steps.

        \bigskip

        \textbf{Part 3 (Calculating the exact cost of outer loop):}

        \bigskip

        Since the loop runs from $i = 4$ to $i = n - 1$ with $i$ increasing by 1 per
        iteration, we can conclude the loop has

        \color{red}
        \begin{align}
            max(\left\lceil \frac{n-1-4+1}{1} \right\rceil, 0) &= max(n - 4, 0)
        \end{align}
        \color{black}

        iterations.

        \bigskip

        Since each iteration takes $\lceil \log_3 n \rceil + \left\lceil \frac{n}{2} \right\rceil$
        steps, we can conclude the outer loop has total of

        \color{red}
        \begin{align}
            max(n-4, 0) \cdot \left( \lceil \log_3 n \rceil + \left\lceil \frac{n}{2} \right\rceil \right)
        \end{align}
        \color{black}

        steps.

        \bigskip

        \textbf{Part 4 (Calculating Theta):}

        \bigskip

        Because we know the loop in total has exact cost of $\color{red}max(n-4, 0)\color{black}
        \cdot \left( \lceil \log_3 n \rceil + \left\lceil \frac{n}{2} \right\rceil \right)$,
        we can conclude that the algorithm has total runtime of $\Theta(n^2)$.

    \end{mdframed}

    \bigskip

    \textbf{Notes:}

    \begin{itemize}
        \item Noticed professor uses $max(f(n),0)$ when a loop variable doesn't start
        at $i = 0$.

        \item Noticed professor skipped the detailed explanation on the evaluation of
        the number of iterations.

    \end{itemize}

    \item

    Since the inner most loop has $j$ iterations, and since it has cost of 1 step per
    iteration, we can conclude the inner most loop has cost of

    \setcounter{equation}{0}
    \begin{align}
        j \cdot 1 &= j
    \end{align}

    steps.

    \bigskip

    For the intermediate loop, because we know it runs $n$ iterations with the cost
    of $j$ steps per iteration, we can conclude the intermediate loop has cost
    of

    \begin{align}
        \left[ \sum\limits_{j=0}^{n-1} j \right] \cdot 1 &= \frac{n(n-1)}{2} \cdot 1\\
        &= \frac{n(n-1)}{2}
    \end{align}

    steps.

    \bigskip

    For the outer loop, because we know it has $\left\lceil \frac{n}{4} \right\rceil$ iterations
    with each iteration taking $\frac{n(n-1)}{2}$ steps, we can conclude the the outer
    loop has cost of

    \begin{align}
        \left\lceil \frac{n}{4} \right\rceil \cdot \frac{n(n-1)}{2}
    \end{align}

    steps.

    \bigskip

    Because we know the loop has exact cost of $\left\lceil \frac{n}{4}
    \right\rceil \cdot \frac{n(n-1)}{2}$ steps, we can conclude that the algorithm
    has runtime of $\Theta(n^3)$.

    \bigskip

    \begin{mdframed}
        \underline{\textbf{Correct Solution:}}

        \bigskip

        \color{red}
        First, we calculate the cost of the inner most loop.
        \color{black}

        \bigskip

        Since the inner most loop has $j$ iterations, and since it has cost of 1 step per
        iteration, we can conclude the inner most loop has cost of

        \setcounter{equation}{0}
        \begin{align}
            j \cdot 1 &= j
        \end{align}

        steps.

        \bigskip

        \color{red}
        Next, we calculate the cost of the intermediate loop.
        \color{black}

        \bigskip

        \color{red}
        Because we know the loop is in reverse from $j = n$ to $j = 1$ with $j$
        decreasing by 1 per iterations, we can conclude this is the same as going
        from $j = 1$ to $j = n$ with $j$ increasing by 1.

        \color{black}

        \bigskip

        Because we know the loop has the cost of $j$ steps per iteration,
        we can conclude the intermediate loop has cost of

        \color{red}
        \begin{align}
            \left[ \sum\limits_{j=1}^{n} j \right] \cdot 1 &= \frac{n(n+1)}{2} \cdot 1\\
            &= \frac{n(n+1)}{2}
        \end{align}
        \color{black}

        steps.

        \bigskip

        \color{red}
        Finally, we calculate the cost of the outer loop.
        \color{black}

        \bigskip

        Because we know it has $\left\lceil \frac{n}{4} \right\rceil$ iterations
        with each iteration taking \color{red}$\frac{n(n+1)}{2}$\color{black} steps,
        we can conclude the the outer loop has cost of

        \begin{align}
            \left\lceil \frac{n}{4} \right\rceil \cdot \color{red}\frac{n(n+1)}{2}\color{black}
        \end{align}

        steps.

        \bigskip

        Because we know the loop has exact cost of $\left\lceil \frac{n}{4}
        \right\rceil \cdot \color{red}\frac{n(n+1)}{2}\color{black}$ steps, we
        can conclude that the algorithm has runtime of $\Theta(n^3)$.

    \end{mdframed}

    \textbf{Notes:}

    \begin{itemize}
        \item Noticed professor is being very specific about parts of proof he is working on.

        \item Would it be a good idea if I sketch on paper a skeleton of proof (what needs
        to be worked on, what we know, and what is missing) before writing a full proof?

        \item How does professor create a sketch to a proof, and what strategies does he
        employ that a proof is neither incomplete at the end or gets stuck half way?

    \end{itemize}

    \item

    First, we need to determine the cost of inner loop.

    \bigskip

    Since the inner loop starts from $j = 0$ until $j = i - 1$, we can conclude
    that the inner loop has

    \setcounter{equation}{0}
    \begin{align}
        i - 1 - 0 + 1 &= i
    \end{align}

    iterations.

    \bigskip

    Because we know each iteration takes 1 step, we can conclude the inner
    loop has cost of

    \begin{align}
        i \cdot 1 &= i
    \end{align}

    steps.

    \bigskip

    Now, we need to calculate the cost of outer loop.

    \bigskip

    Because we know the outer loop runs from $i = 1$ until $i = n-1$ with $i$ increasing
    by $2^i$ per iteration, and because we know each iteration takes $i$ steps, we can
    conclude that the loop has cost of

    \begin{align}
        \sum\limits_{i= \{1,2,4,8,\dots\}}^{n-1} i &= \sum\limits_{i'=0}^{\lceil \log (n-1) \rceil} 2^{i'}
    \end{align}

    steps.

    \bigskip

    Then, using geometric series $\sum\limits_{k=0}^{n-1} r^k = \frac{1-r^n}{1-r}$, where $r \neq 1$, we can calculate

    \begin{align}
        \sum\limits_{i'=0}^{\lceil \log (n-1) \rceil} 2^{i'} &= \sum\limits_{i'=0}^{\lceil \log (n-1) \rceil - 1} 2^{i'} + 2^{\lceil \log (n-1) \rceil}\\
        &= (2^{\lceil \log(n-1) \rceil} - 1) + 2^{\lceil \log(n-1) \rceil}\\
        &= (2 \cdot 2^{\cdot \lceil \log(n-1) \rceil} - 1)
    \end{align}

    \bigskip

    Then, because we know $2^{\cdot \lceil \log(n-1) \rceil}$ is roughly $n-1$,
    we can conclude the runtime of the algorithm is $\Theta(n)$

    \bigskip

    \begin{mdframed}
        \underline{\textbf{Correct Solution:}}

        \bigskip

        First, we need to determine the cost of inner loop.

        \bigskip

        Since the inner loop starts from $j = 0$ until $j = i - 1$, we can conclude
        that the inner loop has

        \setcounter{equation}{0}
        \begin{align}
            i - 1 - 0 + 1 &= i
        \end{align}

        iterations.

        \bigskip

        Because we know each iteration takes 1 step, we can conclude the inner
        loop has cost of

        \begin{align}
            i \cdot 1 &= i
        \end{align}

        steps.

        \bigskip

        Now, we need to calculate the cost of outer loop.

        \bigskip

        Because we know the outer loop runs from $i = 1$ until $i = n-1$ with $i$ increasing
        by $2^i$ per iteration, and because we know each iteration takes $i$ steps, we can
        conclude that the loop has cost of

        \color{red}
        \begin{align}
            \sum\limits_{i= \{1,2,4,8,\dots\}}^{n-1} i &= \sum\limits_{i'=0}^{\lceil \log (n) \rceil - 1} 2^{i'}
        \end{align}
        \color{black}

        steps.

        \bigskip

        Then, using geometric series $\sum\limits_{k=0}^{n-1} r^k = \frac{1-r^n}{1-r}$, where $r \neq 1$, we can calculate

        \color{red}
        \begin{align}
            \sum\limits_{i'=0}^{\lceil \log (n) \rceil - 1} 2^{i'} &= (2^{\lceil \log(n) \rceil} - 1)
        \end{align}
        \color{black}

        \bigskip

        Then, because we know \color{red}$2^{\cdot \lceil \log(n) \rceil}$\color{black}
        is roughly \color{red}$n$\color{black}, we can conclude the runtime of the
        algorithm is $\Theta(n)$

    \end{mdframed}


\end{enumerate}

\section*{Question 2}
\begin{itemize}
    \item

    First, we will evaluate the cost of the inner most loop.

    \bigskip

    Because we know the inner most loop starts at $k = i$ and ends at $k = j$ with each
    iteration costing 1 step, we can conclude the loop has cost of

    \setcounter{equation}{0}
    \begin{align}
        \lceil j - i + 1 \rceil \cdot 1 = j - i + 1
    \end{align}

    steps.

    \bigskip

    Next, we will evaluate the cost of the intermediate loop.

    \bigskip

    Because we know the intermediate loop starts at $j = i$ and ends at $j = n - 1$
    with each iteration costing $(j - i + 1)$ steps, we can conclude that the cost of
    intermediate loop is

    \begin{align}
        \sum\limits_{j = i}^{n - 1} (i - j + 1)
    \end{align}

    steps.

    \bigskip

    Next, we will compute the cost of the outer most loop.

    \bigskip

    Because we know the loop starts from $i = 0$ and ends at $i = n - 1$ with each
    iteration costing $\sum\limits_{j = i}^{n-1} (i - j + i)$ steps, we can conclude
    that the cost of the outer most loop is

    \begin{align}
        \sum\limits_{i=0}^{n-1} \sum\limits_{j=i}^{n-1} (j - i + 1)
    \end{align}

    steps.

    \bigskip

    Now, we will evaluate the summation.

    \bigskip

\end{itemize}

\end{document}