\documentclass[12pt]{article}
\usepackage[margin=2.5cm]{geometry}
\usepackage{enumerate}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{fancyhdr}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{mdframed}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{booktabs}
\usepackage[utf]{kotex}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=1
}

\lstset{style=mystyle}

\begin{document}
\title{CSC148 Worksheet 10 Solution}
\author{Hyungmo Gu}
\maketitle

\section*{Question 1}
\begin{enumerate}[a.]
    \item

    The following code must be changed.

    \begin{itemize}
        \item \textit{self.\_items.append(item)} in \textit{push()} method must
        be changed to \textit{self.\_items.insert(0,item)}
        \item \textit{self.\_items.pop()} in \textit{pop()} method must be changed
        to \textit{self.\_items.pop(0)}.
    \end{itemize}

    \item

    \begin{lstlisting}[language=Python,caption={worksheet\_10\_q1b\_solution.py},captionpos=b]
    class Stack:
        """A last-in-first-out (LIFO) stack of items.
        Stores data in first-in, last-out order. When removing an item from the
        stack, the most recently-added item is the one that is removed.
        """
        # === Private Attributes ===
        # _items:
        # The items stored in the stack. The end of the list represents
        # the top of the stack.
        _items: List

        def __init__(self) -> None:
            """Initialize a new empty stack.
            """
            self._items = []

        def is_empty(self) -> bool:
            """Return whether this stack contains no items.
            >>> s = Stack()
            >>> s.is_empty()
            True
            >>> s.push(
            hello
            )
            >>> s.is_empty()
            False
            """

            return self._items == []

        def push(self, item: Any) -> None:
            """Add a new element to the top of this stack.
            """
            # =========== Solution (Question 1.b) ===========
            self._items.insert(0,item)
            # ===============================================

        def pop(self) -> Any:
            """Remove and return the element at the top of this stack.
            >>> s = Stack()
            >>> s.push(
            hello
            )
            >>> s.push(
            goodbye
            )
            >>> s.pop()

            goodbye

            """
            # =========== Solution (Question 1.b) ===========
            self._items.pop(0)
            # ===============================================
    \end{lstlisting}

\end{enumerate}

\section*{Question 2}
\begin{itemize}
    \item

    The following changes in docstring must be made.

    \begin{enumerate}[1.]
        \item The line `The items stored in the stack. The end of the list represents the top of the stack.'
        under the description of \textit{\_items} in private attribute should be changed to
        `The items stored in the stack. The end of the list represents the \textit{bottom} of the stack.'

        \item The line `Add a new element to the top of this stack.' in \textit{push()}
        method must be changed to `Add a new element to the \textit{bottom} of this stack.'
        \item The line `Remove and return the element at the top of this stack.'
        in \textit{pop()} method must be changed to `Remove and return the
        element at the \textit{bottom} of this stack.'
    \end{enumerate}
\end{itemize}

\bigskip

\begin{mdframed}
    \underline{\textbf{Correct Solution:}}

    \bigskip

    \begin{itemize}
        \item

        The following changes in docstring must be made.

        \begin{enumerate}[1.]
            \item The line `The items stored in the stack. The end of the list represents the top of the stack.'
            under the description of \textit{\_items} in private attribute should be changed to
            `The items stored in the stack. The \color{red}front\color{black}\:of the list represents the \color{red}top\color{black}\:of the stack.'
            \color{red}
                \begin{itemize}
                    \item This is because stack is LIFO. Last element in is the first to come out.
                    \item Last element added and removed are now at the beginning of the list.
                \end{itemize}
            \color{black}
        \end{enumerate}
    \end{itemize}

\end{mdframed}

\bigskip

\underline{\textbf{Notes:}}

\bigskip

\begin{itemize}
    \item Learned that the \textbf{top of the stack} means where the push and pop occurs.
    \item 형모야. 쪼금만이라도 무너지지 않고 여보에게 더 빨리 갈 수 만있다면...
    \item 형모야. 내 여보 있어
    \item 형모야. 괜찮아
    \item 형모야. 차분히...
\end{itemize}

\section*{Question 3}
\begin{itemize}
    \item

    None of the code should be changed.

    \bigskip

    The below is the code used in last lecture

    \begin{lstlisting}[language=Python,caption={worksheet\_10\_q1b\_solution.py},captionpos=b]
        def is_balanced(line: str) -> bool:
        """Return whether <line> contains balanced parentheses.

        >>> is_balanced('abc')
        True
        >>> is_balanced('(a * (3 + b))')
        True
        >>> is_balanced('(a * (3 + b]]')
        False
        >>> is_balanced('(a * [3 + b])')
        True
        >>> is_balanced('1 + 2(x-y)}')
        False
        >>> is_balanced('{3 + [2 * 4(x-y)]}')
        True
        >>> is_balanced('3 - (x')
        False
        """
        brackets_stack = Stack()

        for character in line:
            # If the character is one of '[', '{'. or '(',
            if (character == '(' or
                character == '[' or
                character == '{'):
                # Store it in stack
                brackets_stack.push(character)
            # If the character is one of ']', '}', or ')',
            elif (character == ')' or
                  character == ']' or
                  character == '}'):
                # Check for the non-emptiness of stack.
                if brackets_stack.is_empty():
                    # if empty, return false.
                    return False

                # If the list is not empty, then pop an element form stack.
                left_bracket = brackets_stack.pop()

                # If popped bracket doesn't match, then return false
                if ((left_bracket == '(' and character != ')') or
                    (left_bracket == '[' and character != ']') or
                    (left_bracket == '{' and character != '}')):

                    return False

        # Check parenthesis are balanced by checking stack is empty.
        if not brackets_stack.is_empty():
            return False

        return True
    \end{lstlisting}

    \bigskip

    Because we know the code is built with the thought of \textit{Stack} functioning
    as LIFO, and because we know from question 2 that \textit{Stack} still behaves
    the same after the changes, we can conclude no new changes are required.

\end{itemize}
\section*{Question 4}
\begin{itemize}
    \item

    The original stack class is the better choice.

    \bigskip

    The criteria used for the conclusion is the performance of adding element
    to list.

    \bigskip

    The new stack class uses \textit{.insert()} method to add
    elements.

    \bigskip

    Because we know each element added using this method requires a new list to
    be created and all elements need to be transferred from one list to another,
    we can conclude the new stack class is not efficient.

    \bigskip

    \begin{mdframed}
        \underline{\textbf{Correct Solution:}}

        \bigskip

        The original stack class is the better choice.

        \bigskip

        The criteria used for the conclusion is the performance of adding element
        to list.

        \bigskip

        The new stack class uses \textit{.insert()} method to add
        elements.

        \bigskip

        Because we know each element added using this method requires a new list to
        be created and all elements need to be transferred from one list to another,
        we can conclude the new stack class is not efficient.

        \bigskip

        \color{red}In terms of readability, both are the great choice.\color{black}

    \end{mdframed}

\end{itemize}

\end{document}