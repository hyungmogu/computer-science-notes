\documentclass[12pt]{article}
\usepackage[margin=2.5cm]{geometry}
\usepackage{enumerate}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{fancyhdr}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{mdframed}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{adjustbox}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{booktabs}
\usepackage[utf]{kotex}
\usepackage{hyperref}
\usepackage{accents}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=1
}

\lstset{style=mystyle}

\pagestyle{fancy}
\renewcommand{\headrulewidth}{0.4pt}
\lhead{CSC 343}
\rhead{Worksheet 13 Solution}

\begin{document}
\title{CSC343 Worksheet 13 Solution}
\maketitle

\begin{enumerate}[1.]
    \item

    \begin{enumerate}[a)]

        \item

        \bigskip

        \underline{\textbf{Notes:}}

        \bigskip

        \begin{itemize}
            \item Decomposition: The good bad and ugly

            \begin{enumerate}[1)]
                \item \textbf{Elimination of Anomalies} by decomposition as in Section 3
                \item \textbf{Recoverability of Information} Can we recover the original relation
                from the tuples in its decomposition?
                \item \textbf{Preservation of Dependences (lossless join):} Can we be sure that after reconstructing the original relation
                from the decompositions, the original FD's satisfy?
            \end{enumerate}

            \bigskip

            \textbf{BCNF:} $\to$ satisfies 1) and 2) \color{red}Not good. NONO\color{black}


            \item The Chase Test for Lossless Join
            \begin{itemize}
                \item Tests whether the decomposition is lossless
            \end{itemize}

            \bigskip

            \textbf{Input:}

            \begin{itemize}
                \item A relation $R$
                \item A decomposition of $R$
                \item A set of functional dependencies
            \end{itemize}

            \bigskip

            \textbf{Output:}

            \begin{itemize}
                \item Whether the decomposition is loseless or not
                \item $\Pi_{S_1}(R) \bowtie \Pi_{S_2}(R) \bowtie \cdots \Pi_{S_i}(R) = R$
            \end{itemize}

            \bigskip

            \underline{\textbf{Three things to remember:}}

            \begin{enumerate}[1.]
                \item The natural join is associate and commutative
                \item Any tuple $t$ in $R$ is surely in $\pi_{S_1}(R) \bowtie \pi_{S_2}(R) \bowtie \cdots \bowtie \pi_{S_k}(R)$.
                \item We have to check to see any tuple in the $\pi_{S_1}(R) \bowtie \pi_{S_2}(R) \bowtie \cdots \bowtie \pi_{S_k}(R)$.
            \end{enumerate}

            \bigskip

            \underline{\textbf{Example:}}

            \bigskip

            $S_1 = \{A,D\}$, $S_2 = \{B,C\}$, $S_3 = \{A,C\}$

            \bigskip

            $A \to B$, $B \to C$, $CD \to A$

            \begin{center}
            \includegraphics[width=0.7\linewidth]{images/worksheet_13_solution_1.png}
            \end{center}

            \bigskip

            \underline{\textbf{Step 1: $A \to B$}}

            \bigskip





        \end{itemize}

    \end{enumerate}
\end{enumerate}

\end{document}